(function(e,t,n,r,i){function s(e,t,n,r){r=r instanceof Array?r:[];var i={};for(var s=0;s<r.length;s++){i[r[s]]=true}var o=function(e){this.element=e};o.prototype=n;e.fn[t]=function(){var n=arguments;var r=this;this.each(function(){var s=e(this);var u=s.data("plugin-"+t);if(!u){u=new o(s);s.data("plugin-"+t,u);if(u._init){u._init.apply(u,n)}}else if(typeof n[0]=="string"&&n[0].charAt(0)!="_"&&typeof u[n[0]]=="function"){var a=Array.prototype.slice.call(n,1);var f=u[n[0]].apply(u,a);if(n[0]in i){r=f}}});return r}}var o=410,u=410,a=10;var f={stateStyles:{fill:"#333",stroke:"#666","stroke-width":1,"stroke-linejoin":"round",scale:[1,1]},stateHoverStyles:{fill:"#33c",stroke:"#000",scale:[1.1,1.1]},stateHoverAnimation:500,stateSpecificStyles:{},stateSpecificHoverStyles:{},click:null,mouseover:null,mouseout:null,clickState:{},mouseoverState:{},mouseoutState:{},showLabels:true,labelWidth:20,labelHeight:15,labelGap:6,labelRadius:3,labelBackingStyles:{fill:"#333",stroke:"#666","stroke-width":1,"stroke-linejoin":"round",scale:[1,1]},labelBackingHoverStyles:{fill:"#33c",stroke:"#000"},stateSpecificLabelBackingStyles:{},stateSpecificLabelBackingHoverStyles:{},labelTextStyles:{fill:"#fff",stroke:"none","font-weight":300,"stroke-width":0,"font-size":"10px"},labelTextHoverStyles:{},stateSpecificLabelTextStyles:{},stateSpecificLabelTextHoverStyles:{}};var l={_init:function(t){this.options={};e.extend(this.options,f,t);var n=this.element.width();var i=this.element.height();var s=this.element.width()/o;var l=this.element.height()/u;this.scale=Math.min(s,l);this.labelAreaWidth=Math.ceil(a/this.scale);var c=o+Math.max(0,this.labelAreaWidth-a);this.paper=r(this.element.get(0),c,u);this.paper.setSize(n,i);this.paper.setViewBox(-250,20,c,u,false);this.stateHitAreas={};this.stateShapes={};this.topShape=null;this._initCreateStates();this.labelShapes={};this.labelTexts={};this.labelHitAreas={};if(this.options.showLabels){this._initCreateLabels()}},_initCreateStates:function(){var t=this.options.stateStyles;var n=this.paper;var r={Kent:"M 160.9375,267.0625 C 159.67031,267.0625 159.83184,267.22635 158.40625,268.96875 C 156.98066,270.71115 158.41485,269.76834 157.78125,270.71875 C 157.14766,271.66914 157.9375,272.29958 157.9375,273.25 C 157.9375,274.20039 157.43419,274.66816 155.375,276.09375 C 153.31581,277.51934 153.95471,277.34374 152.6875,277.34375 C 151.4203,277.34375 151.89648,277.36424 150.3125,278.15625 C 148.7285,278.94825 144.7801,279.73927 142.5625,280.53125 C 140.34491,281.32325 136.07325,285.90195 135.28125,286.21875 C 134.48925,286.53555 133.68105,288.29531 134.15625,289.5625 C 134.63145,290.8297 132.26934,292.08084 130.84375,293.03125 C 129.41816,293.98165 125.4375,298.28125 125.4375,298.28125 L 91.75,299.5625 C 92.559108,322.43691 95.4375,397.90625 95.4375,397.90625 C 95.437499,397.90624 176.5088,400.59343 228.03125,401.9375 C 228.03124,401.93749 227.8125,400.16245 227.8125,395.90625 C 227.8125,391.65005 227.80755,382.21444 226.6875,378.40625 C 225.56745,374.59808 226.48979,365.64636 225.59375,363.40625 C 224.69769,361.16614 226.02631,357.375 224.90625,357.375 C 223.7862,357.37499 221.53125,356.91646 221.53125,357.8125 C 221.53126,358.70855 223.79177,358.03093 223.34375,359.375 C 222.89573,360.71906 221.98947,359.5987 222.4375,360.71875 C 222.88552,361.83881 223.79703,359.59839 223.125,362.0625 C 222.45297,364.52663 224.22432,365.88026 222.65625,365.65625 C 221.08816,365.43224 219.09375,367.90625 219.09375,367.90625 C 219.09376,367.90626 219.52105,369.90594 218.625,371.25 C 217.72897,372.59408 217.73453,373.2661 217.0625,371.25 C 216.39047,369.23392 217.2763,370.1411 216.15625,368.125 C 215.0362,366.1089 214.16151,367.66182 213.9375,366.09375 C 213.71348,364.52566 214.37531,365.20328 213.03125,364.53125 C 211.68718,363.85921 208.77104,363.19245 207.875,364.3125 C 206.97896,365.43257 207.44834,366.99474 205.65625,367.21875 C 203.86417,367.44277 203.1773,367.44245 202.28125,368.5625 C 201.3852,369.68255 199.81282,370.8125 198.46875,370.8125 C 197.12469,370.81251 195.54671,371.23979 196.21875,370.34375 C 196.89079,369.4477 196.46318,370.79208 198.03125,369 C 199.59933,367.2079 200.04703,367.20854 199.375,366.3125 C 199.375,366.3125 199.37532,366.54703 198.03125,365.875 C 196.68719,365.20297 196.44308,365.8648 194.875,364.96875 C 193.30692,364.07272 192.1875,364.09375 192.1875,364.09375 C 192.1875,364.09375 192.86943,363.86974 194.4375,364.09375 C 196.00558,364.31776 196.44245,365.20854 197.5625,364.3125 C 198.68255,363.41647 198.02567,363.63026 199.59375,363.40625 C 201.16182,363.18224 202.71844,362.07828 204.0625,361.40625 C 205.40656,360.73423 203.86417,360.93781 205.65625,359.59375 C 207.44834,358.2497 206.7599,358.25 209,358.25 C 211.24012,358.25 211.67666,358.02104 213.46875,357.125 C 215.26083,356.22897 213.91614,356.91183 216.15625,355.34375 C 218.39636,353.77568 220.2138,354.21906 219.09375,352.875 C 217.9737,351.53093 219.29209,350.40625 217.5,350.40625 C 215.70792,350.40624 215.5,350.40625 215.5,350.40625 C 215.49999,350.40624 215.26083,353.34375 213.46875,353.34375 C 211.67666,353.34374 213.04146,353.54735 213.9375,351.53125 C 214.83353,349.51515 215.05755,350.20854 213.9375,349.3125 C 212.81744,348.41645 212.8125,347.28125 212.8125,347.28125 C 212.8125,347.28126 214.16677,346.14605 213.71875,345.25 C 213.27073,344.35395 212.8023,344.82302 211.90625,344.375 C 211.01022,343.92699 210.5625,343.02105 210.5625,342.125 C 210.5625,341.22897 209.90625,340.125 209.90625,340.125 L 208.78125,337.4375 C 208.78125,337.43749 211.25,336.06745 211.25,337.1875 C 211.25,338.30756 211.03094,339.20329 212.375,338.53125 C 213.71907,337.85923 213.69245,337.875 214.8125,337.875 C 215.93257,337.87501 216.82766,339.4273 218.84375,338.53125 C 220.85985,337.63522 221.09375,336.08818 221.09375,337.65625 C 221.09375,339.22433 221.3125,343.90594 221.3125,345.25 C 221.31249,346.59407 222.4375,349.75 222.4375,349.75 C 222.4375,349.74999 222.89079,351.31744 222.21875,352.4375 C 221.54671,353.55756 221.3125,354.6875 221.3125,354.6875 C 221.31249,354.6875 221.77567,356.02105 223.34375,355.125 C 224.91182,354.22895 225.8023,354.21906 224.90625,352.875 C 224.01021,351.53093 224,349.97433 224,348.40625 C 224,346.83819 223.78125,344.38057 223.78125,342.8125 C 223.78125,341.24442 223.125,342.36017 223.125,339 C 223.125,335.63984 222.65625,332.94339 222.65625,330.03125 C 222.65624,327.11911 222.67204,318.16182 222,316.59375 C 221.32797,315.02568 221.32828,311.20854 220.65625,310.3125 C 219.98423,309.41647 219.76578,308.07239 219.09375,310.3125 C 218.42172,312.55261 217.7299,313.22401 214.59375,313 C 211.4576,312.77599 209.44865,314.36016 206.3125,311 C 203.17635,307.63983 200.93781,309.85985 199.59375,307.84375 C 198.24968,305.82766 198.70328,305.18255 198.03125,304.0625 C 197.35922,302.94244 191.75557,300.46443 190.1875,296.65625 C 188.61942,292.84807 189.9536,292.62562 187.9375,289.9375 C 185.9214,287.24936 180.56313,282.99042 177.875,279.40625 C 175.18686,275.82207 172.94771,274.68781 173.84375,273.34375 C 174.4185,272.48162 175.24468,271.08556 175.78125,269.53125 C 174.05816,269.20792 172.73208,268.96875 172.5,268.96875 C 171.07441,268.96875 171.23595,269.75 169.96875,269.75 C 168.70156,269.75 166.48594,268.65624 165.21875,268.65625 C 163.95155,268.65625 162.20471,267.06249 160.9375,267.0625 z ",New_Castle:"M 122.1875,32.9375 C 109.15326,33.319948 94.341546,40.287124 82.875,63.90625 L 79.3125,64.125 C 79.312499,64.125003 82.875,144.32113 82.875,151.9375 C 82.875001,153.82894 83.427789,163.1761 84.21875,176.125 C 88.424607,175.44415 93.427869,174.6923 94.25,174.875 C 95.675593,175.19179 97.418155,175.0162 98.84375,176.125 C 100.26935,177.2338 103.4375,177.25 103.4375,177.25 L 103.4375,177.5625 C 103.4375,177.5625 106.28026,176.4418 108.65625,176.125 C 111.03224,175.8082 113.57011,172.03339 115.3125,171.875 C 117.0549,171.7166 118.96131,170.74025 121.8125,169.15625 C 124.66369,167.57227 126.7166,166.80489 126.875,165.0625 C 127.0334,163.3201 127.04961,161.41055 128,161.09375 C 128.9504,160.77696 131.4785,160.60879 133.0625,159.5 C 133.47754,159.20947 134.41573,158.4818 135.1875,157.90625 C 135.01652,157.16001 135.115,156.72999 134.40625,155.3125 C 133.2862,153.07239 132.82828,154.40193 132.15625,150.59375 C 131.48421,146.78557 129.70917,145.00095 126.125,140.96875 C 122.54083,136.93656 118.94276,134.70359 118.71875,132.6875 C 118.49474,130.6714 118.49443,125.30261 120.0625,123.0625 C 121.63058,120.82239 122.0987,120.80229 123.21875,119.90625 C 124.33881,119.01021 126.78683,118.125 125.21875,118.125 C 123.65068,118.125 122.30724,120.1411 122.53125,118.125 C 122.75526,116.10891 123.1977,116.32365 124.09375,113.1875 C 124.98979,110.05135 125.22959,108.47463 123.4375,105.5625 C 121.64542,102.65036 118.28683,100.40688 116.71875,97.71875 C 115.15068,95.030618 113.11416,90.781564 114.90625,89.4375 C 116.69833,88.093436 118.93718,84.510521 120.28125,84.0625 C 121.62531,83.614481 122.53093,83.396043 123.875,82.5 C 125.21906,81.603954 130.35922,76.229586 131.03125,74.4375 C 131.70328,72.645412 132.60364,70.401617 134.84375,67.9375 C 137.08386,65.473385 137.99474,65.016096 138.21875,63 C 138.44277,60.983902 138.65625,57.1875 138.65625,57.1875 C 138.65625,57.1875 140.67141,51.125314 142.6875,49.78125 C 144.70361,48.437186 145.83817,47.541772 147.40625,47.09375 C 148.97432,46.64573 148.95265,45.750314 150.96875,44.40625 C 152.98484,43.062185 152.78125,42.84375 152.78125,42.84375 C 152.78125,42.843751 138.94581,32.445781 122.1875,32.9375 z ",Sussex:"M 135.1875,157.90625 C 134.41573,158.4818 133.47754,159.20947 133.0625,159.5 C 131.4785,160.60879 128.9504,160.77696 128,161.09375 C 127.04961,161.41055 127.0334,163.3201 126.875,165.0625 C 126.7166,166.80489 124.66369,167.57227 121.8125,169.15625 C 118.96131,170.74025 117.0549,171.7166 115.3125,171.875 C 113.57011,172.03339 111.03224,175.8082 108.65625,176.125 C 106.28026,176.4418 103.4375,177.5625 103.4375,177.5625 L 103.4375,177.25 C 103.4375,177.25 100.26935,177.2338 98.84375,176.125 C 97.418155,175.0162 95.675593,175.19179 94.25,174.875 C 93.427869,174.6923 88.424607,175.44415 84.21875,176.125 C 86.612792,215.31811 91.40625,287.91694 91.40625,289.9375 C 91.40625,290.29686 91.625143,296.03264 91.75,299.5625 L 125.4375,298.28125 C 125.4375,298.28125 129.41816,293.98165 130.84375,293.03125 C 132.26934,292.08084 134.63145,290.8297 134.15625,289.5625 C 133.68105,288.29531 134.48925,286.53555 135.28125,286.21875 C 136.07325,285.90195 140.34491,281.32325 142.5625,280.53125 C 144.7801,279.73927 148.7285,278.94825 150.3125,278.15625 C 151.89648,277.36424 151.4203,277.34375 152.6875,277.34375 C 153.95471,277.34374 153.31581,277.51934 155.375,276.09375 C 157.43419,274.66816 157.9375,274.20039 157.9375,273.25 C 157.9375,272.29958 157.14766,271.66914 157.78125,270.71875 C 158.41485,269.76834 156.98066,270.71115 158.40625,268.96875 C 159.83184,267.22635 159.67031,267.0625 160.9375,267.0625 C 162.20471,267.06249 163.95155,268.65625 165.21875,268.65625 C 166.48594,268.65624 168.70156,269.75 169.96875,269.75 C 171.23595,269.75 171.07441,268.96875 172.5,268.96875 C 172.73208,268.96875 174.05816,269.20792 175.78125,269.53125 C 176.08119,268.66239 176.28125,267.75854 176.28125,266.875 C 176.28124,264.41089 177.40688,265.0687 174.71875,260.8125 C 172.03062,256.55629 172.70328,258.56313 172.03125,255.875 C 171.35921,253.18687 172.04734,253.18812 170.03125,250.5 C 168.01515,247.81187 164.87563,245.3549 162.1875,242.21875 C 159.49937,239.08261 156.34901,239.29734 156.125,237.28125 C 155.90099,235.26515 156.8125,232.59964 156.8125,229.6875 C 156.8125,226.77535 157.26578,226.5424 156.59375,223.40625 C 155.92171,220.2701 155.22927,219.15688 154.78125,216.46875 C 154.33323,213.78063 153.68193,210.63583 155.25,208.84375 C 156.81808,207.05166 157.03094,207.93813 158.375,205.25 C 159.71907,202.56186 158.83354,200.99569 157.9375,197.1875 C 157.04145,193.37932 158.81281,194.29735 157.46875,192.28125 C 156.12468,190.26515 156.125,187.78125 156.125,187.78125 C 156.125,187.78125 156.56808,186.66708 155,184.875 C 153.43192,183.08291 153.44834,183.99042 151.65625,180.40625 C 149.86417,176.82209 151.6411,176.35985 149.625,174.34375 C 147.60891,172.32766 146.94803,172.11479 146.5,171.21875 C 146.05198,170.32269 147.17761,168.76052 144.9375,168.3125 C 142.69739,167.86447 142.90656,168.97959 141.5625,167.1875 C 140.21844,165.39543 139.55755,169.42729 138.4375,168.53125 C 137.31745,167.63521 137.09375,168.50558 137.09375,166.9375 C 137.09375,165.36943 136.41645,163.82302 137.3125,163.375 C 138.20855,162.92697 137.31282,162.24537 135.96875,159.78125 C 135.47518,158.87638 135.28672,158.33932 135.1875,157.90625 z M 175.34375,270.65625 C 175.18186,271.01918 174.98523,271.36197 174.8125,271.6875 C 174.98763,271.36067 175.18022,271.01952 175.34375,270.65625 z "};var i={};for(var s in r){i={};if(this.options.stateSpecificStyles[s]){e.extend(i,t,this.options.stateSpecificStyles[s])}else{i=t}this.stateShapes[s]=n.path(r[s]).attr(i);this.topShape=this.stateShapes[s];this.stateHitAreas[s]=n.path(r[s]).attr({fill:"#000","stroke-width":0,opacity:0,cursor:"pointer"});this.stateHitAreas[s].node.dataState=s}this._onClickProxy=e.proxy(this,"_onClick");this._onMouseOverProxy=e.proxy(this,"_onMouseOver"),this._onMouseOutProxy=e.proxy(this,"_onMouseOut");for(var s in this.stateHitAreas){this.stateHitAreas[s].toFront();e(this.stateHitAreas[s].node).bind("mouseout",this._onMouseOutProxy);e(this.stateHitAreas[s].node).bind("click",this._onClickProxy);e(this.stateHitAreas[s].node).bind("mouseover",this._onMouseOverProxy)}},_initCreateLabels:function(){var t=this.paper;var n=[];var r=860;var i=220;var s=this.options.labelWidth;var o=this.options.labelHeight;var u=this.options.labelGap;var a=this.options.labelRadius;var f=s/this.scale;var l=o/this.scale;var c=(s+u)/this.scale;var h=(o+u)/this.scale*.5;var p=a/this.scale;var d=this.options.labelBackingStyles;var v=this.options.labelTextStyles;var m={};for(var g=0,y,b,w;g<n.length;++g){w=n[g];y=(g+1)%2*c+r;b=g*h+i;m={};if(this.options.stateSpecificLabelBackingStyles[w]){e.extend(m,d,this.options.stateSpecificLabelBackingStyles[w])}else{m=d}this.labelShapes[w]=t.rect(y,b,f,l,p).attr(m);m={};if(this.options.stateSpecificLabelTextStyles[w]){e.extend(m,v,this.options.stateSpecificLabelTextStyles[w])}else{e.extend(m,v)}if(m["font-size"]){m["font-size"]=parseInt(m["font-size"])/this.scale+"px"}this.labelTexts[w]=t.text(y+f/2,b+l/2,w).attr(m);this.labelHitAreas[w]=t.rect(y,b,f,l,p).attr({fill:"#000","stroke-width":0,opacity:0,cursor:"pointer"});this.labelHitAreas[w].node.dataState=w}for(var w in this.labelHitAreas){this.labelHitAreas[w].toFront();e(this.labelHitAreas[w].node).bind("mouseout",this._onMouseOutProxy);e(this.labelHitAreas[w].node).bind("click",this._onClickProxy);e(this.labelHitAreas[w].node).bind("mouseover",this._onMouseOverProxy)}},_getStateFromEvent:function(e){var t=e.target&&e.target.dataState||e.dataState;return this._getState(t)},_getState:function(e){var t=this.stateShapes[e];var n=this.stateHitAreas[e];var r=this.labelShapes[e];var i=this.labelTexts[e];var s=this.labelHitAreas[e];return{shape:t,hitArea:n,name:e,labelBacking:r,labelText:i,labelHitArea:s}},_onMouseOut:function(e){var t=this._getStateFromEvent(e);if(!t.hitArea){return}return!this._triggerEvent("mouseout",e,t)},_defaultMouseOutAction:function(t){var n={};if(this.options.stateSpecificStyles[t.name]){e.extend(n,this.options.stateStyles,this.options.stateSpecificStyles[t.name])}else{n=this.options.stateStyles}t.shape.animate(n,this.options.stateHoverAnimation);if(t.labelBacking){var n={};if(this.options.stateSpecificLabelBackingStyles[t.name]){e.extend(n,this.options.labelBackingStyles,this.options.stateSpecificLabelBackingStyles[t.name])}else{n=this.options.labelBackingStyles}t.labelBacking.animate(n,this.options.stateHoverAnimation)}},_onClick:function(e){var t=this._getStateFromEvent(e);if(!t.hitArea){return}return!this._triggerEvent("click",e,t)},_onMouseOver:function(e){var t=this._getStateFromEvent(e);if(!t.hitArea){return}return!this._triggerEvent("mouseover",e,t)},_defaultMouseOverAction:function(t){this.bringShapeToFront(t.shape);this.paper.safari();var n={};if(this.options.stateSpecificHoverStyles[t.name]){e.extend(n,this.options.stateHoverStyles,this.options.stateSpecificHoverStyles[t.name])}else{n=this.options.stateHoverStyles}t.shape.animate(n,this.options.stateHoverAnimation);if(t.labelBacking){var n={};if(this.options.stateSpecificLabelBackingHoverStyles[t.name]){e.extend(n,this.options.labelBackingHoverStyles,this.options.stateSpecificLabelBackingHoverStyles[t.name])}else{n=this.options.labelBackingHoverStyles}t.labelBacking.animate(n,this.options.stateHoverAnimation)}},_triggerEvent:function(t,n,r){var i=r.name;var s=false;var o=e.Event("usmap"+t+i);o.originalEvent=n;if(this.options[t+"State"][i]){s=this.options[t+"State"][i](o,r)===false}if(o.isPropagationStopped()){this.element.trigger(o,[r]);s=s||o.isDefaultPrevented()}if(!o.isPropagationStopped()){var u=e.Event("usmap"+t);u.originalEvent=n;if(this.options[t]){s=this.options[t](u,r)===false||s}if(!u.isPropagationStopped()){this.element.trigger(u,[r]);s=s||u.isDefaultPrevented()}}if(!s){switch(t){case"mouseover":this._defaultMouseOverAction(r);break;case"mouseout":this._defaultMouseOutAction(r);break}}return!s},trigger:function(e,t,n){t=t.replace("usmap","");e=e.toUpperCase();var r=this._getState(e);this._triggerEvent(t,n,r)},bringShapeToFront:function(e){if(this.topShape){e.insertAfter(this.topShape)}this.topShape=e}};var c=[];s(e,"usmap",l,c)})(jQuery,document,window,Raphael)
